<h1>Builder</h1>

<div class="row">
  <div class="col-md-9">

    {{ivy-codemirror
      id='builder-editor'
      options=(hash
        lineNumbers  = true
        mode         = 'htmlmixed'
        addModeClass = true
        theme        = 'solarized dark')
      value        = source
      valueUpdated = (action 'updateSource')
    }}

    <hr>

    <div class="col-md-6">
      {{preview-iframe srcdoc=source}}
    </div>

  </div>

  <div class="col-md-3">

    <div class="list-group">
      {{#each model.builderSteps as |step|}}
        {{#link-to "builder.step" step class='list-group-item'}}
          <h4>Step {{step.sort}}</h4>
          <p class="list-group-item-text">
            {{step.comment}}

            <button {{action 'deleteStep' step}} class="btn btn-danger btn-xs pull-right">Delete this step</button>
          </p>
        {{/link-to}}
      {{/each}}
    </div>

    {{outlet}}
  </div>

</div>
